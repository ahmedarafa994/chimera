============================= test session starts =============================

----------------------------- live log collection -----------------------------
03:53:34 [    INFO] faiss.loader: Loading faiss with AVX512 support.
03:53:34 [    INFO] faiss.loader: Could not load library with AVX512 support due to:
ModuleNotFoundError("No module named 'faiss.swigfaiss_avx512'")
03:53:34 [    INFO] faiss.loader: Loading faiss with AVX2 support.
03:53:34 [    INFO] faiss.loader: Successfully loaded faiss with AVX2 support.
03:53:35 [    INFO] app.core.ai_config_manager: AIConfigManager initialized
03:53:35 [    INFO] app.core.service_registry: Registered service: ai_config_manager
03:53:35 [    INFO] chimera: llm_service singleton created: instance_id=2243249519456, module=app.services.llm_service
03:53:50 [    INFO] app.core.connection_pool: ConnectionPoolManager initialized
03:53:51 [    INFO] app.services.provider_management_service: ProviderManagementService initialized
03:53:51 [ WARNING] app.core.auth: JWT_SECRET not set - using generated key (not for production!)
03:53:51 [    INFO] app.core.auth: REDIS_URL not set - using in-memory token revocation (OK for development)
03:53:54 [    INFO] chimera: SessionService using Redis backend for persistence
03:53:54 [ WARNING] chimera: Failed to connect to GlobalModelSelectionState: type object 'GlobalModelSelectionState' has no attribute 'get_instance'. Session selections will not sync globally.
03:53:54 [    INFO] chimera: SessionService initialized. Default: mock/deepseek-chat
03:53:54 [    INFO] app.services.provider_plugins: PluginRegistry initialized
03:53:54 [    INFO] app.services.provider_registry: ProviderRegistry initialized
03:54:00 [    INFO] chimera: Loaded model selection: deepseek/deepseek:deepseek-chat
03:54:00 [    INFO] app.services.unified_provider_registry: Unified provider registry initialized
collected 1551 items / 4 errors / 1 skipped

=================================== ERRORS ====================================
_________ ERROR collecting tests/red_team/test_semantic_inversion.py __________
ImportError while importing test module 'K:\MUZIK\chimera\backend-api\tests\red_team\test_semantic_inversion.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Users\Mohamed Arafa\AppData\Local\Programs\Python\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\red_team\test_semantic_inversion.py:11: in <module>
    from app.middleware.jailbreak_security import ContentFilter
E   ModuleNotFoundError: No module named 'app.middleware.jailbreak_security'
___________ ERROR collecting tests/remediation/test_phase2_fixes.py ___________
ImportError while importing test module 'K:\MUZIK\chimera\backend-api\tests\remediation\test_phase2_fixes.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Users\Mohamed Arafa\AppData\Local\Programs\Python\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\remediation\test_phase2_fixes.py:9: in <module>
    from app.services.jailbreak.jailbreak_service import CacheManager, ExecutionTracker, RateLimiter
E   ModuleNotFoundError: No module named 'app.services.jailbreak'
____________ ERROR collecting tests/test_masterkey_integration.py _____________
ImportError while importing test module 'K:\MUZIK\chimera\backend-api\tests\test_masterkey_integration.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
C:\Users\Mohamed Arafa\AppData\Local\Programs\Python\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
tests\test_masterkey_integration.py:5: in <module>
    from app.domain.jailbreak.models import (
E   ModuleNotFoundError: No module named 'app.domain.jailbreak'
___________ ERROR collecting tests/test_performance_integration.py ____________
'regression' not found in `markers` configuration option
============================== warnings summary ===============================
C:\Users\Mohamed Arafa\AppData\Local\Programs\Python\Python313\Lib\site-packages\_pytest\config\__init__.py:1474
  C:\Users\Mohamed Arafa\AppData\Local\Programs\Python\Python313\Lib\site-packages\_pytest\config\__init__.py:1474: PytestConfigWarning: Unknown config option: timeout
  
    self._warn_or_fail_if_strict(f"Unknown config option: {key}\n")

app\schemas\prompt_library.py:85
  K:\MUZIK\chimera\backend-api\app\schemas\prompt_library.py:85: UserWarning: Field name "avg_rating" in "TemplateDetailResponse" shadows an attribute in parent "PromptTemplate"
    class TemplateDetailResponse(PromptTemplate):

app\schemas\prompt_library.py:85
  K:\MUZIK\chimera\backend-api\app\schemas\prompt_library.py:85: UserWarning: Field name "total_ratings" in "TemplateDetailResponse" shadows an attribute in parent "PromptTemplate"
    class TemplateDetailResponse(PromptTemplate):

app\schemas\prompt_library.py:85
  K:\MUZIK\chimera\backend-api\app\schemas\prompt_library.py:85: UserWarning: Field name "effectiveness_score" in "TemplateDetailResponse" shadows an attribute in parent "PromptTemplate"
    class TemplateDetailResponse(PromptTemplate):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
ERROR tests/red_team/test_semantic_inversion.py
ERROR tests/remediation/test_phase2_fixes.py
ERROR tests/test_masterkey_integration.py
ERROR tests/test_performance_integration.py - Failed: 'regression' not found ...
!!!!!!!!!!!!!!!!!!! Interrupted: 4 errors during collection !!!!!!!!!!!!!!!!!!!
================== 1 skipped, 4 warnings, 4 errors in 40.11s ==================
