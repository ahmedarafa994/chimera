# AutoDAN-Turbo Configuration

# LLM Provider Settings
llm:
  # Default provider: openai, google, anthropic, local
  default_provider: openai
  
  # OpenAI Configuration
  openai:
    api_key: ${OPENAI_API_KEY}
    model: gpt-4-1106-turbo
    temperature: 0.0
    max_tokens: 4096
  
  # Google (Gemini) Configuration
  google:
    api_key: ${GOOGLE_API_KEY}
    model: gemini-pro
    temperature: 0.0
    max_tokens: 4096
  
  # Anthropic (Claude) Configuration
  anthropic:
    api_key: ${ANTHROPIC_API_KEY}
    model: claude-3-opus-20240229
    temperature: 0.0
    max_tokens: 4096
  
  # Local Model Configuration (HuggingFace)
  local:
    model_name: meta-llama/Llama-2-7b-chat-hf
    device: cuda  # cuda, cpu, auto
    load_in_8bit: false
    load_in_4bit: true

# Agent Role Assignments
agents:
  # Attacker LLM - generates jailbreak prompts
  attacker:
    provider: local
    model: google/gemma-7b-it  # or meta-llama/Llama-3-70B-Instruct
  
  # Target LLM - the victim model to jailbreak
  target:
    provider: openai
    model: gpt-4-1106-turbo
  
  # Scorer LLM - evaluates jailbreak success
  scorer:
    provider: local
    model: google/gemma-7b-it
  
  # Summarizer LLM - extracts strategies from attack logs
  summarizer:
    provider: local
    model: google/gemma-7b-it

# Embedding Model Configuration
embeddings:
  model: sentence-transformers/all-MiniLM-L6-v2
  device: cuda  # cuda, cpu
  batch_size: 32

# Strategy Library Settings
strategy_library:
  # Path to save/load strategy library
  path: ./strategy_library.json
  
  # Number of top strategies to retrieve
  top_k: 2
  
  # Similarity threshold for retrieval
  similarity_threshold: 0.5
  
  # Score thresholds for strategy classification
  effective_score_threshold: 5.0
  high_score_threshold: 2.0

# Attack Parameters
attack:
  # Maximum iterations per malicious request
  max_iterations: 150
  
  # Termination score threshold
  termination_score: 8.5
  
  # Number of rounds for lifelong learning
  lifelong_rounds: 5

# Warm-up Stage Settings
warmup:
  # Number of iterations for warm-up exploration
  iterations: 150
  
  # Number of strategy extraction iterations
  strategy_extraction_iterations: 50

# Logging Settings
logging:
  level: INFO  # DEBUG, INFO, WARNING, ERROR
  file: ./logs/autodan_turbo.log
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# Output Settings
output:
  # Directory for saving results
  results_dir: ./results
  
  # Save attack logs
  save_attack_logs: true
  
  # Save intermediate strategies
  save_intermediate: true

# Rate Limiting
rate_limit:
  # Requests per minute for API calls
  requests_per_minute: 60
  
  # Delay between requests (seconds)
  request_delay: 0.5